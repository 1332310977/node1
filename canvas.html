<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.min.js"></script>

</head>
<body>
    <input type="file" id="upload-ipt" onchange="chooseVideo(this)" accept="video/*" />
<div id="box" style="display:none"></div>
<div id="in-box"></div>
<img src="" id="Is" />
</body>
<script>
    function chooseVideo(e){
        console.log(1)
    var that = this;
    var obj_file = document.getElementById("upload-ipt");
    var file = obj_file.files[0];
    var blob = new Blob([file]), // 文件转化成二进制文件
          url = URL.createObjectURL(blob); //转化成url
    var $video = $('<div><video controls autoplay src="' + url + '"></video></div><div> </div>');
    $("#in-box").html($video);
     var videoElement = $("video")[0];
   
        setTimeout(function(){
            var videoElement = $("video")[0];
            var canvas = document.createElement("canvas");
            canvas.width = videoElement.clientWidth;
            canvas.height = videoElement.clientHeight;
            canvas.getContext("2d").drawImage(videoElement, 0, 0, canvas.width, canvas.height); 
            console.log(canvas.toDataURL("image/png")); //第一帧图片url
            let is = document.getElementById('Is')
            is.src = canvas.toDataURL("image/png")
        },10000)
}
</script>
</html>
